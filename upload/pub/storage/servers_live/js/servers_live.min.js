function ls_parse_data(){var a="";$("tr[class^='server']").each(function(){serv_addr=$(this).data("server-address");$.getJSON(RN_URL+"servers/fetch/"+serv_addr+"/",function(b){a=b.request;_holder="tr.server[data-server-address='"+a+"']";if(b.error!="none"){$(_holder+" td#map").html("offline");$(_holder+" td#players").html("-");$(_holder+" td#ping").html("-")}else{$(_holder+" td#map").html(b.details.map);if(b.details.bots>0){$(_holder+" td#players").html('<a href="#show-players">'+b.details.players_on+"/"+b.details.players_max+" ("+b.details.bots+" bots) </a>")}else{$(_holder+" td#players a").html(b.details.players_on+"/"+b.details.players_max)}$(_holder+" td#ping").html(b.details.ping+" ms");var c=$("tr.players[data-server-address='"+a+"'] table tbody");if(b.players.length==0){c.html('<tr><td colspan="7" class="center">No players online.</td></tr>')}else{$.each(b.players,function(a,b){c.append('<tr><td colspan="5">'+b.nick+'</td> <td class="center">'+b.score+'</td> <td class="center">'+b.time_gmt+"</td></tr>")})}}}).error(function(){$("tr[data-server-address='"+a+"'] td#map").html("connection error");$("tr[data-server-address='"+a+"'] td#players").html("-");$("tr[data-server-address='"+a+"'] td#ping").html("-")})});$("td#players a").click(function(a){a.preventDefault();var b=$(this).parent().parent().data("server-address");var c=$("tr.players[data-server-address='"+b+"']");if(c.hasClass("hide")){c.removeClass("hide")}else{c.addClass("hide")}})}function waitForJquery(){if(typeof window.jQuery=="undefined"){window.setTimeout(waitForJquery,50)}else{ls_parse_data()}}waitForJquery()